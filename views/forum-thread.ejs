<% layout('layout', { title: 'Thread Details' }) %>
<div class="card">
  <h2><%= thread.title %></h2>
  <p><%= thread.content %></p>
  <small>By <%= thread.author.username %> on <%= new Date(thread.date).toLocaleDateString() %></small>
</div>
<div class="card">
  <h3>Comments</h3>
  <% if (comments.length === 0) { %>
    <p>No comments yet.</p>
  <% } else { %>
    <% comments.forEach(function(comment) { %>
      <div class="card" style="margin-bottom: 10px;">
        <p><%= comment.comment %></p>
        <small>By <%= comment.user.username %> on <%= new Date(comment.date).toLocaleDateString() %></small>
      </div>
    <% }); %>
  <% } %>
  <form action="/forum/comment/<%= thread._id %>" method="post">
    <div class="form-group">
      <label for="comment">Add a Comment</label>
      <textarea id="comment" name="comment" placeholder="Your comment here" required></textarea>
    </div>
    <button type="submit" class="button">Submit Comment</button>
  </form>
</div>
