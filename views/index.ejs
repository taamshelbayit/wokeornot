<% layout('layout') %>

<!-- Hero / Banner Section (IMDb-style black/yellow) -->
<div class="jumbotron jumbotron-fluid mb-0 bg-dark text-light position-relative">
  <div class="container py-5 text-center">
    <h1 class="display-4 font-weight-bold text-warning">WokeOrNot</h1>
    <p class="lead text-white-50">
      Rate the Wokeness of Your Favorite TV Shows & Movies
    </p>
    <a href="/auth/register" class="btn btn-warning btn-lg animated-button">
      Join Now
    </a>
  </div>
</div>

<!-- Display trending items in a horizontal scroll or grid -->
<div class="container mt-4">
  <h3 class="text-warning mb-3">
    <i class="fas fa-fire"></i> Trending This Week
  </h3>
  <div class="row">
    <% trending.forEach(item => { %>
      <div class="col-md-3 col-sm-6 mb-4 position-relative">
        <div class="card h-100 hover-zoom">
          <% if (item.poster_path) { %>
            <img
              src="https://image.tmdb.org/t/p/w500<%= item.poster_path %>"
              class="card-img-top"
              alt="<%= item.title || item.name %>"
            >
          <% } %>
          <div class="card-body">
            <h6 class="card-title">
              <%= item.title || item.name %>
            </h6>
            <!-- We won't have an average rating for trending items unless you store them in DB -->
            <a
              href="/search?q=<%= item.title || item.name %>"
              class="btn btn-sm btn-outline-warning"
            >
              Find & Rate
            </a>
          </div>
        </div>
      </div>
    <% }) %>
  </div>
</div>

<!-- Category Links (Movies, TV, Kids) -->
<div class="container mt-4">
  <div class="row text-center">
    <div class="col-md-4 mb-3">
      <a href="/movies?type=Movie" class="btn btn-warning btn-block py-3 animated-button">
        Browse Movies
      </a>
    </div>
    <div class="col-md-4 mb-3">
      <a href="/movies?type=TV" class="btn btn-warning btn-block py-3 animated-button">
        Browse TV
      </a>
    </div>
    <div class="col-md-4 mb-3">
      <a href="/movies?type=Kids" class="btn btn-warning btn-block py-3 animated-button">
        Browse Kids
      </a>
    </div>
  </div>
</div>

<!-- Quick Search -->
<div class="container my-4">
  <h3 class="text-warning">Quick Search</h3>
  <form action="/search" method="GET" class="form-inline">
    <input
      type="text"
      name="q"
      class="form-control mr-2"
      placeholder="Search by title..."
    >
    <select name="contentType" class="form-control mr-2">
      <option value="">Any Type</option>
      <option value="Movie">Movies</option>
      <option value="TV">TV</option>
      <option value="Kids">Kids</option>
    </select>
    <button type="submit" class="btn btn-warning">Search</button>
  </form>
</div>
