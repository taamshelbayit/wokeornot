<% layout('layout') %>

<div class="container mt-4">
  <h2><%= contentType === 'Movie' ? 'Movies' : contentType === 'TV' ? 'TV Shows' : 'Kids' %></h2>
  <div class="row">
    <% movies.forEach(item => { %>
      <div class="col-md-3 col-sm-6 mb-4 position-relative">
        <div class="card h-100">
          <% if(item.posterPath) { %>
            <img
              src="https://image.tmdb.org/t/p/w500<%= item.posterPath %>"
              class="card-img-top"
              alt="<%= item.title %>"
            >
          <% } else { %>
            <img
              src="/images/no-poster.png"
              class="card-img-top"
              alt="<%= item.title %>"
            >
          <% } %>
          <!-- Rating Badge -->
          <span class="badge rating-badge">
            <%= item.averageRating.toFixed(1) %>/10
          </span>
          <div class="card-body">
            <h5 class="card-title"><%= item.title %></h5>
            <a href="/movies/<%= item._id %>" class="btn btn-primary btn-sm">
              View
            </a>
          </div>
        </div>
      </div>
    <% }) %>
  </div>
</div>
